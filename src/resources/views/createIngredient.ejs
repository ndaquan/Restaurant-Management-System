<head>
  <!-- tái sử dụng CSS thêm nhân viên -->
  <link rel="stylesheet" href="/css/createStaff.css">
</head>

<div class="staff-container">
  <h1 class="form-title">Thêm nguyên liệu mới</h1>

  <!-- hiện lỗi nếu có -->
  <% if (typeof errorMessage !== "undefined" && errorMessage) { %>
    <div class="alert error"><%= errorMessage %></div>
  <% } %>

  <form action="/admin/editIngredient/create"  
        method="POST"
        class="staff-form"
        onsubmit="return validateForm()">

    <!-- Tên nguyên liệu -->
    <div class="input-group">
      <label>Tên nguyên liệu</label>
      <input type="text" name="name" required placeholder="Ví dụ: Thịt heo">
    </div>

    <!-- Số lượng ban đầu -->
    <div class="input-group">
      <label>Số lượng</label>
      <input type="number" name="quantity" min="0" required placeholder="0">
    </div>

    <!-- Đơn vị tính -->
    <div class="input-group">
      <label>Đơn vị</label>
      <input type="text" name="unit" required placeholder="kg, lít…">
    </div>

    <!-- Ghi chú -->
    <div class="input-group">
      <label>Ghi chú (không bắt buộc)</label>
      <input type="text" name="note" placeholder="Nguồn nhập, hạn dùng…">
    </div>

    <div class="button-group">
      <button type="submit" class="btn-submit">Lưu nguyên liệu</button>
      <a href="/admin/editIngredient" class="btn-back">Quay lại danh sách</a>
    </div>
  </form>
</div>

<script>
  /* chỉ kiểm tra số lượng >= 0 và độ dài tên */
  function validateForm () {
    const name   = document.querySelector('input[name="name"]').value.trim();
    const qty    = document.querySelector('input[name="quantity"]').value;

    if (name.length > 40) {
      alert("Tên nguyên liệu quá dài (≤ 40 kí tự).");
      return false;
    }
    if (qty < 0) {
      alert("Số lượng phải ≥ 0");
      return false;
    }
    return true;
  }
</script>